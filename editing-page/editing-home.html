<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ODZ Booth - Edit Your Masterpiece</title>
    <base href="/odzbooth-beta/"> 

    <link rel="stylesheet" href="editing-page/edit-style.css"> 
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Fredoka:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> 
    
    <script defer src="editing-page/edit.js"></script> 
</head>
<body>

    <header class="editor-header">
        <h1 class="title">ODZ <span class="booth">BOOTH</span></h1>
        <p>Unleash Your Creativity: Edit Your Masterpiece!</p>
    </header>

    <main class="editor-wrapper">
        <div class="photo-strip-preview">
            <div id="canvasContainer" class="canvas-container">
                <canvas id="photoCanvas"></canvas>
                
                <div id="noPhotosMessage" class="info-message" style="display: none;">
                    <p>No photos found.</p> 
                    <p class="sub-message">Please go back to <a href="capture-page/capture-page.html">capture photos</a> first.</p>
                </div>
                
                <div id="downloadSpinner" class="spinner-overlay hidden-spinner">
                    <i class="fas fa-spinner fa-spin fa-3x"></i>
                    <p>Generating Strip...</p>
                </div>
            </div>
        </div>

        <div class="tools-panel">
            <h2>Customize Your Strip</h2>

            <div class="tool-section">
                <h3><i class='bx bx-border-all'></i> Choose Frame</h3>
                <select id="frameSelect" title="Select a frame design">
                    </select>
                <p class="tool-tip">Select a different frame design for your photo strip.</p>
            </div>

            <div class="tool-section">
                <h3><i class='bx bxs-sticker'></i> Add Stickers</h3>
                 <select id="stickerSelect" title="Select a sticker category">
                    <option value="">Select a sticker</option>

                    <optgroup label="Strand Stickers">
                        <option value="assets/stickers/stem.png">STEM Student</option>
                        <option value="assets/stickers/humss.png">HUMSS Student</option>
                        <option value="assets/stickers/abm.png">ABM Student</option>
                        </optgroup>

                    <optgroup label="Hearts">
                        <option value="assets/stickers/heart-pink-1.png">heart-pink-1</option>
                        <option value="assets/stickers/heart-pink-2.png">heart-pink-2</option>
                        <option value="assets/stickers/loading-heart.png">loading-heart</option>
                        <option value="assets/stickers/blue-heart.png">blue-heart</option>
                        </optgroup>

                    <optgroup label="Random">
                        <option value="assets/stickers/bunny.png">bunny-1</option>
                        <option value="assets/stickers/bunny-2.png">bunny-2</option>
                        <option value="assets/stickers/pink-ribbbon.png">pink-ribbon</option>
                        <option value="assets/stickers/flower-bouquet.png">flower-bouquet</option>
                        <option value="assets/stickers/paper-airplane.png">paper-airplane</option>
                        <option value="assets/stickers/star.png">star</option>
                        </optgroup>

                    <optgroup label="XOXO">
                        <option value="assets/stickers/xoxo.png">xoxo-1</option>
                        <option value="assets/stickers/xoxo-2.png">xoxo-2</option>
                        <option value="assets/stickers/xoxo-3.png">xoxo-3</option>
                        </optgroup>
                </select>
                <button id="addStickerBtn" class="action-btn">
                    <i class='bx bxs-sticker'></i> Add Sticker
                </button>
                <button id="removeStickerBtn" class="action-btn delete-btn" disabled> 
                    <i class='bx bx-trash'></i> Remove Selected Sticker
                </button>
                <p class="tool-tip">Select a sticker from the list and click 'Add Sticker'. Click on a sticker on the canvas to select it, then click 'Remove Selected Sticker' to delete it.</p>
            </div>

            <div class="tool-section">
                <h3><i class='bx bx-text'></i> Add Text</h3>
                <input type="text" id="textInput" placeholder="Enter text here">
                <input type="color" id="textColorInput" value="#333333" title="Text Color">
                <select id="textFontSelect">
                    <option value="'Poppins', sans-serif">Poppins</option>
                    <option value="'Fredoka', cursive">Fredoka</option>
                    <option value="Arial, sans-serif">Arial</option>
                    <option value="Impact, sans-serif">Impact</option>
                </select>
                <input type="number" id="textSizeInput" value="30" min="10" max="100" title="Text Size">
                
                <div class="text-style-options">
                    <button id="textBoldBtn" class="style-toggle-btn" title="Bold" disabled><i class='bx bx-bold'></i></button>
                    <button id="textItalicBtn" class="style-toggle-btn" title="Italic" disabled><i class='bx bx-italic'></i></button>
                    <button id="textUnderlineBtn" class="style-toggle-btn" title="Underline" disabled><i class='bx bx-underline'></i></button>
                    <select id="textAlignSelect" title="Text Alignment" disabled>
                        <option value="center">Center</option>
                        <option value="left">Left</option>
                        <option value="right">Right</option>
                    </select>
                </div>
                <button id="addTextBtn" class="action-btn">
                        <i class='bx bx-text'></i> Add Text
                </button>
                <button id="removeTextBtn" class="action-btn delete-btn" disabled> 
                    <i class='bx bx-trash'></i> Remove Selected Text
                </button>
                <p class="tool-tip">Type your message, choose style, then add! Click on text on the canvas to select it, then click 'Remove Selected Text' to delete it.</p>
            </div>

            <div class="tool-section">
                <h3>Doodle It!</h3>
                <div class="drawing-controls">
                    <label for="brushColorInput">Color:</label>
                    <input type="color" id="brushColorInput" value="#FF0000" title="Brush Color">
                    <label for="brushSizeInput">Size:</label>
                    <input type="range" id="brushSizeInput" min="1" max="50" value="5" title="Brush Size">
                </div>
                <button id="toggleDrawModeBtn" class="action-btn">
                    <i class='bx bx-pencil'></i> Toggle Draw Mode
                </button>
                <button id="clearDrawingBtn" class="action-btn delete-btn" style="margin-top: 10px;">
                    <i class='bx bx-eraser'></i> Clear All Drawings
                </button>
                <p class="tool-tip">Click 'Toggle Draw Mode' to start drawing directly on the canvas. Adjust color and size. Click again to exit draw mode. 'Clear All Drawings' will remove your doodles.</p>
            </div>

            <div class="tool-section download-section">
                <h3>Download Options</h3>
                <div class="download-format-options">
                    <label for="downloadFormatSelect">Format:</label>
                    <select id="downloadFormatSelect">
                        <option value="image/png">PNG (High Quality)</option>
                        <option value="image/jpeg;0.9">JPEG (High Quality)</option>
                        <option value="image/jpeg;0.7">JPEG (Medium Quality)</option>
                    </select>
                </div>
                <button id="downloadStripBtn" class="download-btn">
                    <i class='bx bxs-download'></i> Download Strip
                </button>
                <button id="printStripBtn" class="action-btn" style="margin-top: 10px;">
                    <i class='bx bx-printer'></i> Print Strip
                </button>
            </div>

            <button id="retakeBtn" class="back-btn">
                <i class='bx bx-camera'></i> Take New Photos
            </button>
        </div>
    </main>

</body>
</html>
